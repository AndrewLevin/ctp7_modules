<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CTP7_MODULES: /home/mdalchen/work/cms-gem-daq-project/ctp7_modules/src/calibration_routines.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CTP7_MODULES
   </div>
   <div id="projectbrief">CTP7 modules for Zynq CPU</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">calibration_routines.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Calibration routines.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;chrono&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &quot;optohybrid.h&quot;</code><br/>
<code>#include &lt;thread&gt;</code><br/>
<code>#include &quot;<a class="el" href="vfat3_8h_source.html">vfat3.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8fc656f1e0b0f7501d68cdddee4706aa"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#a8fc656f1e0b0f7501d68cdddee4706aa">fw_version_check</a> (const char *caller_name, <a class="el" href="structlocalArgs.html">localArgs</a> *la)</td></tr>
<tr class="memdesc:a8fc656f1e0b0f7501d68cdddee4706aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns AMC FW version in case FW version is below 3.X sets an error string in response.  <a href="#a8fc656f1e0b0f7501d68cdddee4706aa">More...</a><br/></td></tr>
<tr class="separator:a8fc656f1e0b0f7501d68cdddee4706aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc2578a5e9b82955e96043cfec187ea1"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint32_t, <br class="typebreak"/>
uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#adc2578a5e9b82955e96043cfec187ea1">setSingleChanMask</a> (int ohN, int vfatN, unsigned int ch, <a class="el" href="structlocalArgs.html">localArgs</a> *la)</td></tr>
<tr class="memdesc:adc2578a5e9b82955e96043cfec187ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmask the channel of interest and masks all the other.  <a href="#adc2578a5e9b82955e96043cfec187ea1">More...</a><br/></td></tr>
<tr class="separator:adc2578a5e9b82955e96043cfec187ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2206171af7da5e534a27d0c41f9c17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#a3e2206171af7da5e534a27d0c41f9c17">applyChanMask</a> (std::unordered_map&lt; uint32_t, uint32_t &gt; map_chanOrigMask, <a class="el" href="structlocalArgs.html">localArgs</a> *la)</td></tr>
<tr class="memdesc:a3e2206171af7da5e534a27d0c41f9c17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies channel mask.  <a href="#a3e2206171af7da5e534a27d0c41f9c17">More...</a><br/></td></tr>
<tr class="separator:a3e2206171af7da5e534a27d0c41f9c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be1a90e50f9e8b90be36e6972f45b4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#a8be1a90e50f9e8b90be36e6972f45b4d">dacMonConfLocal</a> (<a class="el" href="structlocalArgs.html">localArgs</a> *la, uint32_t ohN, uint32_t ch)</td></tr>
<tr class="memdesc:a8be1a90e50f9e8b90be36e6972f45b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures DAQ monitor. Local version only.  <a href="#a8be1a90e50f9e8b90be36e6972f45b4d">More...</a><br/></td></tr>
<tr class="separator:a8be1a90e50f9e8b90be36e6972f45b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a616db4ea5804703916bfa348955c0886"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#a616db4ea5804703916bfa348955c0886">ttcGenToggleLocal</a> (<a class="el" href="structlocalArgs.html">localArgs</a> *la, uint32_t ohN, bool enable)</td></tr>
<tr class="memdesc:a616db4ea5804703916bfa348955c0886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the TTC commands from backplane. Local callable version of ttcGenToggle.  <a href="#a616db4ea5804703916bfa348955c0886">More...</a><br/></td></tr>
<tr class="separator:a616db4ea5804703916bfa348955c0886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f37c879cdb1ac61a6ab8895d26c4ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#a73f37c879cdb1ac61a6ab8895d26c4ea">ttcGenToggle</a> (const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *request, <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *response)</td></tr>
<tr class="memdesc:a73f37c879cdb1ac61a6ab8895d26c4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the TTC commands from backplane.  <a href="#a73f37c879cdb1ac61a6ab8895d26c4ea">More...</a><br/></td></tr>
<tr class="separator:a73f37c879cdb1ac61a6ab8895d26c4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fcdff1e47846052884501e614076ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#ae5fcdff1e47846052884501e614076ed">ttcGenConfLocal</a> (<a class="el" href="structlocalArgs.html">localArgs</a> *la, uint32_t ohN, uint32_t mode, uint32_t type, uint32_t pulseDelay, uint32_t L1Ainterval, uint32_t nPulses, bool enable)</td></tr>
<tr class="memdesc:ae5fcdff1e47846052884501e614076ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures TTC generator. Local callable version of ttcGenConf.  <a href="#ae5fcdff1e47846052884501e614076ed">More...</a><br/></td></tr>
<tr class="separator:ae5fcdff1e47846052884501e614076ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0232b37c9209d4b041e10ea62b8a88f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#ab0232b37c9209d4b041e10ea62b8a88f">ttcGenConf</a> (const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *request, <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *response)</td></tr>
<tr class="memdesc:ab0232b37c9209d4b041e10ea62b8a88f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures TTC generator.  <a href="#ab0232b37c9209d4b041e10ea62b8a88f">More...</a><br/></td></tr>
<tr class="separator:ab0232b37c9209d4b041e10ea62b8a88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79dbcc02e31190badbb7b480254b09a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#ad79dbcc02e31190badbb7b480254b09a">genScanLocal</a> (<a class="el" href="structlocalArgs.html">localArgs</a> *la, uint32_t *outData, uint32_t ohN, uint32_t mask, uint32_t ch, bool useCalPulse, bool currentPulse, uint32_t calScaleFactor, uint32_t nevts, uint32_t dacMin, uint32_t dacMax, uint32_t dacStep, std::string scanReg, bool useUltra, bool useExtTrig)</td></tr>
<tr class="memdesc:ad79dbcc02e31190badbb7b480254b09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic calibration routine. Local callable version of genScan.  <a href="#ad79dbcc02e31190badbb7b480254b09a">More...</a><br/></td></tr>
<tr class="separator:ad79dbcc02e31190badbb7b480254b09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4ea05fc966a5735769cf4d4a0435ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#add4ea05fc966a5735769cf4d4a0435ee">genScan</a> (const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *request, <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *response)</td></tr>
<tr class="memdesc:add4ea05fc966a5735769cf4d4a0435ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic calibration routine.  <a href="#add4ea05fc966a5735769cf4d4a0435ee">More...</a><br/></td></tr>
<tr class="separator:add4ea05fc966a5735769cf4d4a0435ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde719423f66be566c541df6699c0b9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#adde719423f66be566c541df6699c0b9d">sbitRateScanLocal</a> (<a class="el" href="structlocalArgs.html">localArgs</a> *la, uint32_t *outDataDacVal, uint32_t *outDataTrigRate, uint32_t ohN, uint32_t maskOh, bool invertVFATPos, uint32_t ch, uint32_t dacMin, uint32_t dacMax, uint32_t dacStep, std::string scanReg, uint32_t waitTime)</td></tr>
<tr class="memdesc:adde719423f66be566c541df6699c0b9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">SBIT rate scan. Local version of sbitRateScan.  <a href="#adde719423f66be566c541df6699c0b9d">More...</a><br/></td></tr>
<tr class="separator:adde719423f66be566c541df6699c0b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b252f7e51fc569d66a902d3b8d65bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#aa6b252f7e51fc569d66a902d3b8d65bb">sbitRateScanParallelLocal</a> (<a class="el" href="structlocalArgs.html">localArgs</a> *la, uint32_t *outDataDacVal, uint32_t *outDataTrigRatePerVFAT, uint32_t *outDataTrigRateOverall, uint32_t ohN, uint32_t vfatmask, uint32_t ch, uint32_t dacMin, uint32_t dacMax, uint32_t dacStep, std::string scanReg)</td></tr>
<tr class="memdesc:aa6b252f7e51fc569d66a902d3b8d65bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parallel SBIT rate scan. Local version of sbitRateScan.  <a href="#aa6b252f7e51fc569d66a902d3b8d65bb">More...</a><br/></td></tr>
<tr class="separator:aa6b252f7e51fc569d66a902d3b8d65bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4824403bb7632933d26f4306c99a106"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#af4824403bb7632933d26f4306c99a106">sbitRateScan</a> (const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *request, <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *response)</td></tr>
<tr class="memdesc:af4824403bb7632933d26f4306c99a106"><td class="mdescLeft">&#160;</td><td class="mdescRight">SBIT rate scan. See the local callable methods documentation for details.  <a href="#af4824403bb7632933d26f4306c99a106">More...</a><br/></td></tr>
<tr class="separator:af4824403bb7632933d26f4306c99a106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af538221ff041c498cc9b6e3455742d0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calibration__routines_8cpp.html#af538221ff041c498cc9b6e3455742d0f">genChannelScan</a> (const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *request, <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *response)</td></tr>
<tr class="memdesc:af538221ff041c498cc9b6e3455742d0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic per channel scan. See the local callable methods documentation for details.  <a href="#af538221ff041c498cc9b6e3455742d0f">More...</a><br/></td></tr>
<tr class="separator:af538221ff041c498cc9b6e3455742d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d2cf7d91b72d42add873132418084d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64d2cf7d91b72d42add873132418084d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>module_init</b> (<a class="el" href="classModuleManager.html">ModuleManager</a> *modmgr)</td></tr>
<tr class="separator:a64d2cf7d91b72d42add873132418084d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a87acc10d8d3bc007949e1bed445c0a83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87acc10d8d3bc007949e1bed445c0a83"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>module_version_key</b> = &quot;calibration_routines v1.0.1&quot;</td></tr>
<tr class="separator:a87acc10d8d3bc007949e1bed445c0a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad230480e5e7dbf528900e5ce4c076ce8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad230480e5e7dbf528900e5ce4c076ce8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>module_activity_color</b> = 4</td></tr>
<tr class="separator:ad230480e5e7dbf528900e5ce4c076ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Calibration routines. </p>
<dl class="section author"><dt>Author</dt><dd>Mykhailo Dalchenko <a href="#" onclick="location.href='mai'+'lto:'+'myk'+'ha'+'ilo'+'.d'+'alc'+'he'+'nko'+'@c'+'ern'+'.c'+'h'; return false;">mykha<span style="display: none;">.nosp@m.</span>ilo.<span style="display: none;">.nosp@m.</span>dalch<span style="display: none;">.nosp@m.</span>enko<span style="display: none;">.nosp@m.</span>@cern<span style="display: none;">.nosp@m.</span>.ch</a> </dd>
<dd>
Brian Dorney <a href="#" onclick="location.href='mai'+'lto:'+'bri'+'an'+'.l.'+'do'+'rne'+'y@'+'cer'+'n.'+'ch'; return false;">brian<span style="display: none;">.nosp@m.</span>.l.d<span style="display: none;">.nosp@m.</span>orney<span style="display: none;">.nosp@m.</span>@cer<span style="display: none;">.nosp@m.</span>n.ch</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3e2206171af7da5e534a27d0c41f9c17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void applyChanMask </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; uint32_t, uint32_t &gt;&#160;</td>
          <td class="paramname"><em>map_chanOrigMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies channel mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map_chanOrigMask</td><td>Original channel mask as obtained from setSingleChanMask mehod </td></tr>
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8be1a90e50f9e8b90be36e6972f45b4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dacMonConfLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures DAQ monitor. Local version only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
    <tr><td class="paramname">ohN</td><td>Optical link number </td></tr>
    <tr><td class="paramname">ch</td><td>Channel of interest </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8fc656f1e0b0f7501d68cdddee4706aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int fw_version_check </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns AMC FW version in case FW version is below 3.X sets an error string in response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">caller_name</td><td>Name of methods which called the FW version check </td></tr>
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af538221ff041c498cc9b6e3455742d0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genChannelScan </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic per channel scan. See the local callable methods documentation for details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>RPC response message </td></tr>
    <tr><td class="paramname">response</td><td>RPC response message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="add4ea05fc966a5735769cf4d4a0435ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genScan </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic calibration routine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>RPC request message </td></tr>
    <tr><td class="paramname">response</td><td>RPC response message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad79dbcc02e31190badbb7b480254b09a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genScanLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>outData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useCalPulse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>currentPulse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>calScaleFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nevts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>scanReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useUltra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useExtTrig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic calibration routine. Local callable version of genScan. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
    <tr><td class="paramname">outData</td><td>pointer to the results of the scan </td></tr>
    <tr><td class="paramname">ohN</td><td>Optical link </td></tr>
    <tr><td class="paramname">mask</td><td>VFAT mask </td></tr>
    <tr><td class="paramname">ch</td><td>Channel of interest </td></tr>
    <tr><td class="paramname">useCalPulse</td><td>Use calibration pulse if true </td></tr>
    <tr><td class="paramname">currentPulse</td><td>Selects whether to use current or volage pulse </td></tr>
    <tr><td class="paramname">calScaleFactor</td><td></td></tr>
    <tr><td class="paramname">nevts</td><td>Number of events per calibration point </td></tr>
    <tr><td class="paramname">dacMin</td><td>Minimal value of scan variable </td></tr>
    <tr><td class="paramname">dacMax</td><td>Maximal value of scan variable </td></tr>
    <tr><td class="paramname">dacStep</td><td>Scan variable change step </td></tr>
    <tr><td class="paramname">scanReg</td><td>DAC register to scan over name </td></tr>
    <tr><td class="paramname">useUltra</td><td>Set to 1 in order to use the ultra scan </td></tr>
    <tr><td class="paramname">useExtTrig</td><td>Set to 1 in order to use the backplane triggers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af4824403bb7632933d26f4306c99a106"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbitRateScan </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SBIT rate scan. See the local callable methods documentation for details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>RPC response message </td></tr>
    <tr><td class="paramname">response</td><td>RPC response message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adde719423f66be566c541df6699c0b9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbitRateScanLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>outDataDacVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>outDataTrigRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maskOh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>invertVFATPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>scanReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>waitTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SBIT rate scan. Local version of sbitRateScan. </p>
<ul>
<li>Measures the SBIT rate seen by OHv3 ohN for the non-masked VFAT found in maskOh as a function of scanReg</li>
<li>It is assumed that all other VFATs are masked in the OHv3 via maskOh</li>
<li>Will scan from dacMin to dacMax in steps of dacStep</li>
<li>The x-values (e.g. scanReg values) will be stored in outDataDacVal</li>
<li>The y-valued (e.g. rate) will be stored in outDataTrigRate</li>
<li>Each measured point will take waitTime milliseconds (recommond between 1000-&gt;3000)</li>
<li>The measurement is performed for all channels (ch=128) or a specific channel (0 &lt;= ch &lt;= 127)</li>
<li>invertVFATPos is for FW backwards compatiblity; if true then the vfatN = 23 - map_maskOh2vfatN[maskOh]</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
    <tr><td class="paramname">outDataDacVal</td><td></td></tr>
    <tr><td class="paramname">outDataTrigRate</td><td></td></tr>
    <tr><td class="paramname">ohN</td><td>Optohybrid optical link number </td></tr>
    <tr><td class="paramname">maskOh</td><td>VFAT mask, should only have one unmasked chip </td></tr>
    <tr><td class="paramname">invertVFATPos</td><td>is for FW backwards compatiblity; if true then the vfatN = 23 - map_maskOh2vfatN[maskOh] </td></tr>
    <tr><td class="paramname">ch</td><td>Channel of interest </td></tr>
    <tr><td class="paramname">dacMin</td><td>Minimal value of scan variable </td></tr>
    <tr><td class="paramname">dacMax</td><td>Maximal value of scan variable </td></tr>
    <tr><td class="paramname">dacStep</td><td>Scan variable change step </td></tr>
    <tr><td class="paramname">scanReg</td><td>DAC register to scan over name  Measurement duration per point </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa6b252f7e51fc569d66a902d3b8d65bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbitRateScanParallelLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>outDataDacVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>outDataTrigRatePerVFAT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>outDataTrigRateOverall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vfatmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dacStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>scanReg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parallel SBIT rate scan. Local version of sbitRateScan. </p>
<ul>
<li>Measures the SBIT rate seen by OHv3 ohN for the non-masked VFATs defined in vfatmask as a function of scanReg</li>
<li>Will scan from dacMin to dacMax in steps of dacStep</li>
<li>The x-values (e.g. scanReg values) will be stored in outDataDacVal</li>
<li>For each VFAT the y-valued (e.g. rate) will be stored in outDataTrigRatePerVFAT</li>
<li>For the overall y-value (e.g. rate) will be stored in outDataTrigRateOverall</li>
<li>Each measured point will take one second</li>
<li>The measurement is performed for all channels (ch=128) or a specific channel (0 &lt;= ch &lt;= 127)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
    <tr><td class="paramname">outDataDacVal</td><td></td></tr>
    <tr><td class="paramname">outDataTrigRatePerVFAT</td><td></td></tr>
    <tr><td class="paramname">outDataTrigRateOverall</td><td></td></tr>
    <tr><td class="paramname">ohN</td><td>Optohybrid optical link number </td></tr>
    <tr><td class="paramname">vfatMask</td><td>VFAT mask </td></tr>
    <tr><td class="paramname">ch</td><td>Channel of interest </td></tr>
    <tr><td class="paramname">dacMin</td><td>Minimal value of scan variable </td></tr>
    <tr><td class="paramname">dacMax</td><td>Maximal value of scan variable </td></tr>
    <tr><td class="paramname">dacStep</td><td>Scan variable change step </td></tr>
    <tr><td class="paramname">scanReg</td><td>DAC register to scan over name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adc2578a5e9b82955e96043cfec187ea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; uint32_t, uint32_t &gt; setSingleChanMask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vfatN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmask the channel of interest and masks all the other. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ohN</td><td>Optical link number </td></tr>
    <tr><td class="paramname">vfatN</td><td>VFAT position </td></tr>
    <tr><td class="paramname">ch</td><td>Channel of interest </td></tr>
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Original channel mask in a form of an unordered map &lt;chanMaskAddr, mask&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="ab0232b37c9209d4b041e10ea62b8a88f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttcGenConf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures TTC generator. </p>
<ul>
<li><b>v3</b> electronics behavior:<ul>
<li>pulseDelay (only for enable = true), delay between CalPulse and L1A</li>
<li>L1Ainterval (only for enable = true), how often to repeat signals</li>
<li>enable = true (false) ignore (take) ttc commands from backplane for this AMC (affects all links)</li>
</ul>
</li>
<li><b>v2b</b> electronics behavior:<ul>
<li>Configure the T1 controller</li>
<li>mode:<ul>
<li>0 (Single T1 signal),</li>
<li>1 (CalPulse followed by L1A),</li>
<li>2 (pattern)</li>
</ul>
</li>
<li>type (only for mode 0, type of T1 signal to send):<ul>
<li>0 L1A</li>
<li>1 CalPulse</li>
<li>2 Resync</li>
<li>3 BC0</li>
</ul>
</li>
<li>pulseDelay (only for mode 1), delay between CalPulse and L1A</li>
<li>L1Ainterval (only for mode 0,1), how often to repeat signals</li>
<li>nPulses how many signals to send (0 is continuous)</li>
<li>enable = true (false) start (stop) the T1Controller for link ohN</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>RPC request message </td></tr>
    <tr><td class="paramname">response</td><td>RPC response message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5fcdff1e47846052884501e614076ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttcGenConfLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pulseDelay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>L1Ainterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nPulses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures TTC generator. Local callable version of ttcGenConf. </p>
<ul>
<li><b>v3</b> electronics behavior:<ul>
<li>pulseDelay (only for enable = true), delay between CalPulse and L1A</li>
<li>L1Ainterval (only for enable = true), how often to repeat signals</li>
<li>enable = true (false) ignore (take) ttc commands from backplane for this AMC (affects all links)</li>
</ul>
</li>
<li><b>v2b</b> electronics behavior:<ul>
<li>Configure the T1 controller</li>
<li>mode:<ul>
<li>0 (Single T1 signal),</li>
<li>1 (CalPulse followed by L1A),</li>
<li>2 (pattern)</li>
</ul>
</li>
<li>type (only for mode 0, type of T1 signal to send):<ul>
<li>0 L1A</li>
<li>1 CalPulse</li>
<li>2 Resync</li>
<li>3 BC0</li>
</ul>
</li>
<li>pulseDelay (only for mode 1), delay between CalPulse and L1A</li>
<li>L1Ainterval (only for mode 0,1), how often to repeat signals</li>
<li>nPulses how many signals to send (0 is continuous)</li>
<li>enable = true (false) start (stop) the T1Controller for link ohN</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
    <tr><td class="paramname">ohN</td><td>Optical link </td></tr>
    <tr><td class="paramname">mode</td><td>T1 controller mode </td></tr>
    <tr><td class="paramname">type</td><td>Type of T1 signal to send </td></tr>
    <tr><td class="paramname">pulseDelay</td><td>Delay between CalPulse and L1A </td></tr>
    <tr><td class="paramname">L1Ainterval</td><td>How often to repeat signals (only for enable = true) </td></tr>
    <tr><td class="paramname">nPulses</td><td>Number of calibration pulses to generate </td></tr>
    <tr><td class="paramname">enable</td><td>If true (false) ignore (take) ttc commands from backplane for this AMC (affects all links) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a73f37c879cdb1ac61a6ab8895d26c4ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttcGenToggle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwisc_1_1RPCMsg.html">RPCMsg</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the TTC commands from backplane. </p>
<ul>
<li>v3 electronics: enable = true (false) ignore (take) ttc commands from backplane for this AMC</li>
<li>v2b electronics: enable = true (false) start (stop) the T1Controller for link ohN</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>RPC request message </td></tr>
    <tr><td class="paramname">response</td><td>RPC response message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a616db4ea5804703916bfa348955c0886"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ttcGenToggleLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlocalArgs.html">localArgs</a> *&#160;</td>
          <td class="paramname"><em>la</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ohN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the TTC commands from backplane. Local callable version of ttcGenToggle. </p>
<ul>
<li>v3 electronics: enable = true (false) ignore (take) ttc commands from backplane for this AMC</li>
<li>v2b electronics: enable = true (false) start (stop) the T1Controller for link ohN</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">la</td><td>Local arguments structure </td></tr>
    <tr><td class="paramname">ohN</td><td>Optical link </td></tr>
    <tr><td class="paramname">enable</td><td>See detailed mehod description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
